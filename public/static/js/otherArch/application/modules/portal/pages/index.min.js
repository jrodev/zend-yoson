/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
$(function() {

    /*-----------------------------------------------------------------------------------
     * Datepicker range implementacion
     *//*-------------------------------------------------------------------------------*/
    var to = new Date();
    var from = new Date(to.getTime() - 1000 * 60 * 60 * 24 * 14);

    $('#datepicker-calendar').DatePicker({
        inline: true,
        date: [from, to],
        calendars: 3,
        mode: 'range',
        current: new Date(to.getFullYear(), to.getMonth() - 1, 1),
        onChange: function(dates, el) {
            console.log("DATE:=======> ", dates);
            // update the range display
            $('#date-range-field span').text(dates[0].getDate() + ' ' + dates[0].getMonthName(true) + ', ' + dates[0].getFullYear() + ' - ' +
                    dates[1].getDate() + ' ' + dates[1].getMonthName(true) + ', ' + dates[1].getFullYear());
        }
    });

    // initialize the special date dropdown field
    $('#date-range-field span').text(from.getDate() + ' ' + from.getMonthName(true) + ', ' + from.getFullYear() + ' - ' +
            to.getDate() + ' ' + to.getMonthName(true) + ', ' + to.getFullYear());

    // bind a click handler to the date display field, which when clicked
    // toggles the date picker calendar, flips the up/down indicator arrow,
    // and keeps the borders looking pretty
    $('#date-range').bind('mouseleave', function() {

    });
    $('html').bind('click', function() {
        $('#datepicker-calendar').slideUp(400)
    });
    $('#date-range-field').bind('click', function(e) {
        e.stopPropagation();
        $('#datepicker-calendar').slideToggle(400);
        // switch to up-arrow
        var _up = ($('#date-range-field a').text().charCodeAt(0) == 9660);
        $('#date-range-field a').html(_up ? '&#9650;' : '&#9660;');
        $('#date-range-field').css({borderBottomLeftRadius: _up ? 0 : 5, borderBottomRightRadius: _up ? 0 : 5});
        $('#date-range-field a').css({borderBottomRightRadius: _up ? 0 : 5});
        return false;
    });
    /*-----------------------------------------------------------------------------------*/
    $(".alert").alert();
    
});